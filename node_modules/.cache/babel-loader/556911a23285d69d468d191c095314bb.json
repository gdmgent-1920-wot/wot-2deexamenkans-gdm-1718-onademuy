{"ast":null,"code":"import _classCallCheck from\"/Users/onademuytere/Documents/GitHub/wot-2deexamenkans-gdm-1718-onademuy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/onademuytere/Documents/GitHub/wot-2deexamenkans-gdm-1718-onademuy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/onademuytere/Documents/GitHub/wot-2deexamenkans-gdm-1718-onademuy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/onademuytere/Documents/GitHub/wot-2deexamenkans-gdm-1718-onademuy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/onademuytere/Documents/GitHub/wot-2deexamenkans-gdm-1718-onademuy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./waterpage.styles.scss';import{Link}from'react-router-dom';import firebase from'../../firebase';var Waterpage=/*#__PURE__*/function(_React$Component){_inherits(Waterpage,_React$Component);var _super=_createSuper(Waterpage);function Waterpage(props){var _this;_classCallCheck(this,Waterpage);_this=_super.call(this,props);_this.bijvullen=function(e){e.preventDefault();var db=firebase.firestore();var currentDate=new Date();if(_this.state.bijvullen){_this.setState({bijvullen:false});_this.setState({stopzetten:false});db.collection(\"boodschap\").doc(\"sQNGeSuqvrAWHEMQVKx6\").set({manueleAanvraag:false,manueleStop:false});}else{_this.setState({bijvullen:true});_this.setState({stopzetten:false});db.collection(\"watertoevoer\").add({aan:true,datum:currentDate,manier:\"manueel\"});db.collection(\"boodschap\").doc(\"sQNGeSuqvrAWHEMQVKx6\").set({manueleAanvraag:true,manueleStop:false});}};_this.stopzetten=function(e){e.preventDefault();var db=firebase.firestore();if(_this.state.stopzetten){_this.setState({bijvullen:false});_this.setState({stopzetten:false});db.collection(\"boodschap\").doc(\"sQNGeSuqvrAWHEMQVKx6\").set({manueleAanvraag:false,manueleStop:false});}else{_this.setState({bijvullen:false});_this.setState({stopzetten:true});db.collection(\"boodschap\").doc(\"sQNGeSuqvrAWHEMQVKx6\").set({manueleAanvraag:false,manueleStop:true});}};_this.state={items:[],boodschappen:[],bijvullen:null,stopzetten:null};_this.bijvullen=_this.bijvullen.bind(_assertThisInitialized(_this));_this.stopzetten=_this.stopzetten.bind(_assertThisInitialized(_this));return _this;}_createClass(Waterpage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var items=[];firebase.firestore().collection(\"watertoevoer\").orderBy(\"datum\",\"desc\").limit(1).get().then(function(querySnapshot){//Notice the arrow funtion which bind `this` automatically.\nquerySnapshot.forEach(function(doc){items.push(doc.data());});_this2.setState({items:items});//set data in state here\n});var boodschappen=[];firebase.firestore().collection(\"boodschap\").get().then(function(querySnapshot){//Notice the arrow funtion which bind `this` automatically.\nquerySnapshot.forEach(function(doc){boodschappen.push(doc.data());});_this2.setState({boodschappen:boodschappen});//set data in state here\n_this2.setState({bijvullen:_this2.state.boodschappen[0].manueleAanvraag});_this2.setState({stopzetten:_this2.state.boodschappen[0].manueleStop});});}},{key:\"render\",value:function render(){var _this$state=this.state,items=_this$state.items,bijvullen=_this$state.bijvullen,stopzetten=_this$state.stopzetten;return/*#__PURE__*/React.createElement(\"div\",{className:\"waterpage\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pagetitle green\"},\"WATERTOEVOER\"),/*#__PURE__*/React.createElement(\"div\",{className:\"back\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Ga terug\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.bijvullen,className:bijvullen?\"changes aan\":\"changes uit\"},bijvullen?/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"boodschap manueel oranje\",value:\"MANUEEL BIJVULLEN\"}):/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"boodschap manueel oranje\",value:\"MANUEEL BIJVULLEN\"})),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.stopzetten,className:stopzetten?\"changes aan\":\"changes uit\"},stopzetten?/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"boodschap stopzetten rood\",value:\"SYSTEEM UITGESCHAKELD\"}):/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"boodschap stopzetten groen\",value:\"SYSTEEM AUTOMATISCH\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"tussentitel\"},\"Laatste bijvulling\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tablesettings\"},/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Datum\"),/*#__PURE__*/React.createElement(\"th\",null,\"Wijze\")),items&&items.length>0&&items.map(function(item){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,JSON.stringify(item.datum.toDate().getDate()),\"/\",JSON.stringify(item.datum.toDate().getMonth()),\"/\",JSON.stringify(item.datum.toDate().getFullYear()),\" \",JSON.stringify(item.datum.toDate().getHours()).padStart(2,\"0\"),\":\",JSON.stringify(item.datum.toDate().getMinutes()).padStart(2,\"0\")),/*#__PURE__*/React.createElement(\"td\",null,item.manier));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"geschiedenis\"},/*#__PURE__*/React.createElement(Link,{to:\"/geschiedenis\"},\"GESCHIEDENIS\")));}}]);return Waterpage;}(React.Component);export default Waterpage;","map":{"version":3,"sources":["/Users/onademuytere/Documents/GitHub/wot-2deexamenkans-gdm-1718-onademuy/src/pages/waterpage/waterpage.component.jsx"],"names":["React","Link","firebase","Waterpage","props","bijvullen","e","preventDefault","db","firestore","currentDate","Date","state","setState","stopzetten","collection","doc","set","manueleAanvraag","manueleStop","add","aan","datum","manier","items","boodschappen","bind","orderBy","limit","get","then","querySnapshot","forEach","push","data","length","map","item","JSON","stringify","toDate","getDate","getMonth","getFullYear","getHours","padStart","getMinutes","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './waterpage.styles.scss';\nimport { Link } from 'react-router-dom';\nimport firebase from '../../firebase';\n\nclass Waterpage extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            items: [],\n            boodschappen: [],\n            bijvullen: null,\n            stopzetten: null,\n        }\n        \n        this.bijvullen = this.bijvullen.bind(this);\n        this.stopzetten = this.stopzetten.bind(this);\n    }\n\n    componentDidMount() {\n        var items = [];\n        firebase\n        .firestore()\n        .collection(\"watertoevoer\").orderBy(\"datum\", \"desc\").limit(1)\n        .get()\n        .then((querySnapshot) => {  //Notice the arrow funtion which bind `this` automatically.\n            querySnapshot.forEach(function(doc) {\n                items.push(doc.data());\n            });\n            this.setState({ items: items });   //set data in state here\n        });\n\n        var boodschappen = [];\n        firebase\n        .firestore()\n        .collection(\"boodschap\")\n        .get()\n        .then((querySnapshot) => {  //Notice the arrow funtion which bind `this` automatically.\n            querySnapshot.forEach(function(doc) {\n                boodschappen.push(doc.data());\n            });\n            this.setState({ boodschappen: boodschappen });   //set data in state here\n            this.setState({bijvullen: this.state.boodschappen[0].manueleAanvraag})\n            this.setState({stopzetten: this.state.boodschappen[0].manueleStop})\n        });\n    }\n\n    bijvullen = (e) => {\n        e.preventDefault();\n        const db = firebase.firestore();\n        var currentDate = new Date();\n\n        if(this.state.bijvullen){\n            this.setState({bijvullen: false})\n            this.setState({stopzetten: false})  \n            db.collection(\"boodschap\").doc(\"sQNGeSuqvrAWHEMQVKx6\").set({\n                manueleAanvraag: false,\n                manueleStop: false,\n            })\n        } else {\n            this.setState({bijvullen: true})\n            this.setState({stopzetten: false})\n            db.collection(\"watertoevoer\").add(\n                {\n                aan: true,\n                datum: currentDate,\n                manier: \"manueel\",\n            });\n            db.collection(\"boodschap\").doc(\"sQNGeSuqvrAWHEMQVKx6\").set({\n                manueleAanvraag: true,\n                manueleStop: false,\n            })\n        }\n    }\n\n    stopzetten = (e) => {\n        e.preventDefault();\n        const db = firebase.firestore();\n\n        if(this.state.stopzetten){\n            this.setState({bijvullen: false})\n            this.setState({stopzetten: false})\n            db.collection(\"boodschap\").doc(\"sQNGeSuqvrAWHEMQVKx6\").set({\n                manueleAanvraag: false,\n                manueleStop: false,\n            })\n        } else {\n            this.setState({bijvullen: false})\n            this.setState({stopzetten: true})\n            db.collection(\"boodschap\").doc(\"sQNGeSuqvrAWHEMQVKx6\").set({\n                manueleAanvraag: false,\n                manueleStop: true,\n            })\n        }\n    }\n\n    render(){\n        const {items, bijvullen, stopzetten} = this.state;\n        return(\n            <div className='waterpage'>\n                <div className=\"pagetitle green\">WATERTOEVOER</div>\n                <div className=\"back\"><Link to='/'>Ga terug</Link></div>\n                \n                    <form onSubmit={this.bijvullen} className= {bijvullen ? \"changes aan\" : \"changes uit\"}>\n                        {bijvullen ?\n                            <input type=\"submit\" className=\"boodschap manueel oranje\" value=\"MANUEEL BIJVULLEN\"/>\n                        :\n                            <input type=\"submit\" className=\"boodschap manueel oranje\" value=\"MANUEEL BIJVULLEN\"/>\n                        }\n                    </form>\n\n                    <form onSubmit={this.stopzetten} className= {stopzetten ? \"changes aan\" : \"changes uit\"}>\n                    {stopzetten ?\n                        <input type=\"submit\" className=\"boodschap stopzetten rood\" value=\"SYSTEEM UITGESCHAKELD\"/>\n                    :\n                        <input type=\"submit\" className=\"boodschap stopzetten groen\" value=\"SYSTEEM AUTOMATISCH\"/>\n                    }\n                    </form>\n\n                    <div className=\"tussentitel\">Laatste bijvulling</div>\n                    <div className=\"tablesettings\">\n                        <table>\n                            <tr>\n                                <th>Datum</th>\n                                <th>Wijze</th>\n                            </tr>\n\n                            {items && items.length > 0 && items.map(item => (\n                                <tr>\n                                    <td>{JSON.stringify(item.datum.toDate().getDate())}/{JSON.stringify(item.datum.toDate().getMonth())}/{JSON.stringify(item.datum.toDate().getFullYear())} {JSON.stringify(item.datum.toDate().getHours()).padStart(2, \"0\")}:{JSON.stringify(item.datum.toDate().getMinutes()).padStart(2, \"0\")}</td>\n                                    <td>{item.manier}</td>\n                                </tr>\n                            ))}\n                        </table>\n                    </div>\n                <div className=\"geschiedenis\"><Link to='/geschiedenis'>GESCHIEDENIS</Link></div>\n            </div> \n        );\n    }\n}\n\nexport default Waterpage;"]},"metadata":{},"sourceType":"module"}